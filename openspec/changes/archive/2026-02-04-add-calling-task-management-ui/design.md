## ä¸Šä¸‹æ–‡
æœ¬å˜æ›´ä¸ºå¤–å‘¼æ¨¡å—æ·»åŠ å‰ç«¯ç®¡ç†ç•Œé¢ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯è§†åŒ–é…ç½®å’Œç®¡ç†å¤–å‘¼ä»»åŠ¡ã€‚

**ç°æœ‰ç³»ç»Ÿ**ï¼š
- åç«¯å·²æœ‰ `CallingService` å¤„ç†å¤–å‘¼ä»»åŠ¡æ‰§è¡Œé€»è¾‘
- åç«¯å·²æœ‰ `CallTask`ã€`CallHistory`ã€`CallLog` ä¸‰ä¸ªæ•°æ®æ¨¡å‹
- å‰ç«¯ä½¿ç”¨ Vue3 + Element Plus + TypeScript æŠ€æœ¯æ ˆ
- å‰ç«¯æœ‰é€šç”¨ CURD ç»„ä»¶åº“

**çº¦æŸ**ï¼š
- éœ€å…¼å®¹ç°æœ‰åç«¯å¤–å‘¼æœåŠ¡é€»è¾‘
- å‰ç«¯éœ€éµå¾ªé¡¹ç›®ç°æœ‰ä»£ç é£æ ¼å’Œç»„ä»¶è§„èŒƒ

## ç›®æ ‡ / éç›®æ ‡
**ç›®æ ‡**ï¼š
- æä¾›ä»»åŠ¡é…ç½®çš„å¢åˆ æ”¹æŸ¥ç•Œé¢
- æ”¯æŒçµæ´»çš„æ•°æ®æºå’Œå­—æ®µæ˜ å°„é…ç½®
- æ”¯æŒæ‰‹åŠ¨è§¦å‘ä»»åŠ¡æ‰§è¡Œ
- ä¸ç°æœ‰å¤–å‘¼æœåŠ¡æ— ç¼é›†æˆ

**éç›®æ ‡**ï¼š
- ä¸ä¿®æ”¹ç°æœ‰å¤–å‘¼æ‰§è¡Œé€»è¾‘
- ä¸ä¿®æ”¹ç°æœ‰æ—¥å¿—å®¡è®¡åŠŸèƒ½

## å†³ç­–

### 1. æ•°æ®æ¨¡å‹è®¾è®¡
æ–°å¢ `CallingTaskConfig` ä»»åŠ¡é…ç½®è¡¨ï¼š

```python
class CallingTaskConfig(MappedBase):
    """å¤–å‘¼ä»»åŠ¡é…ç½®è¡¨"""
    __tablename__ = "calling_task_config"
    
    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)
    name: Mapped[str] = mapped_column(String(100), comment="ä»»åŠ¡åç§°")
    cron_expr: Mapped[str] = mapped_column(String(100), comment="Cron è¡¨è¾¾å¼")
    source_schema: Mapped[str] = mapped_column(String(100), comment="æºæ•°æ® Schema")
    source_table: Mapped[str] = mapped_column(String(100), comment="æºæ•°æ®è¡¨å")
    is_enabled: Mapped[bool] = mapped_column(Boolean, default=True, comment="æ˜¯å¦å¯ç”¨")
    remark: Mapped[str | None] = mapped_column(String(500), nullable=True, comment="å¤‡æ³¨")
    
    # å­—æ®µæ˜ å°„ (JSON æ ¼å¼å­˜å‚¨)
    field_mapping: Mapped[str] = mapped_column(Text, comment="å­—æ®µæ˜ å°„ JSON")
    
    created_time: Mapped[datetime] = mapped_column(default=datetime.now)
    updated_time: Mapped[datetime] = mapped_column(default=datetime.now, onupdate=datetime.now)
```

**å­—æ®µæ˜ å°„ JSON ç»“æ„**ï¼š
```json
{
  "mobile_phone": "phone_column",
  "staff_name": "name_column", 
  "sys_name": "system_column",
  "order_type": "type_column",
  "order_nums": "count_column"
}
```

### 2. API è®¾è®¡

#### ä»»åŠ¡é…ç½® CRUD
- `GET /calling/task/list` - åˆ†é¡µæŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨
- `GET /calling/task/detail/{id}` - è·å–ä»»åŠ¡è¯¦æƒ…
- `POST /calling/task/create` - åˆ›å»ºä»»åŠ¡
- `PUT /calling/task/update/{id}` - æ›´æ–°ä»»åŠ¡
- `DELETE /calling/task/delete` - æ‰¹é‡åˆ é™¤ä»»åŠ¡
- `POST /calling/task/execute/{id}` - ç«‹å³æ‰§è¡Œä»»åŠ¡

#### å…ƒæ•°æ®æŸ¥è¯¢
- `GET /calling/metadata/schemas` - è·å–æ‰€æœ‰ Schema
- `GET /calling/metadata/tables?schema=xxx` - è·å–æŒ‡å®š Schema çš„æ‰€æœ‰è¡¨
- `GET /calling/metadata/columns?schema=xxx&table=xxx` - è·å–è¡¨å­—æ®µåˆ—è¡¨

### 3. å‰ç«¯ç»„ä»¶ç»“æ„

```
views/module_calling/
â”œâ”€â”€ task/
â”‚   â”œâ”€â”€ index.vue              # ä»»åŠ¡åˆ—è¡¨é¡µé¢
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ TaskEditModal.vue  # ä»»åŠ¡ç¼–è¾‘å¼¹çª—
â”‚       â””â”€â”€ FieldMappingPanel.vue  # å­—æ®µæ˜ å°„é¢æ¿
```

### 4. å¼¹çª—è¡¨å•å¸ƒå±€

é‡‡ç”¨ `el-collapse` æˆ– `el-tabs` å®ç°å››ä¸ªé€»è¾‘æ¿å—ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ åŸºç¡€é…ç½®                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡åç§°: [________________]                 â”‚
â”‚ Cron è¡¨è¾¾å¼: [________________] [å¸®åŠ©å›¾æ ‡]    â”‚
â”‚ å¯ç”¨çŠ¶æ€: [å¼€å…³]                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ æ•°æ®æºé…ç½®                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æºæ•°æ®è¡¨: [schema ä¸‹æ‹‰] . [table ä¸‹æ‹‰]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”— ä¸šåŠ¡å‚æ•°æ˜ å°„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‰‹æœºå·å­—æ®µ *:     [åˆ—åä¸‹æ‹‰] â†’ accs_nbr, contact_nbr â”‚
â”‚ å‘˜å·¥å§“åå­—æ®µ *:   [åˆ—åä¸‹æ‹‰] â†’ cust_name, staff_name â”‚
â”‚ ç³»ç»Ÿåç§°å­—æ®µ *:   [åˆ—åä¸‹æ‹‰]                  â”‚
â”‚ å·¥å•ç±»å‹å­—æ®µ *:   [åˆ—åä¸‹æ‹‰]                  â”‚
â”‚ å·¥å•æ•°é‡å­—æ®µ *:   [åˆ—åä¸‹æ‹‰]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ å¤‡æ³¨                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å¤šè¡Œæ–‡æœ¬æ¡†]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é£é™© / æƒè¡¡

1. **å­—æ®µæ˜ å°„çµæ´»æ€§ vs å¤æ‚åº¦æƒè¡¡**
   - é‡‡ç”¨å›ºå®šå­—æ®µæ˜ å°„è€ŒéåŠ¨æ€é…ç½®ï¼Œé™ä½ç”¨æˆ·æ“ä½œå¤æ‚åº¦
   - å¦‚æœªæ¥éœ€æ±‚å˜åŒ–ï¼Œéœ€ä¿®æ”¹æ•°æ®æ¨¡å‹

2. **å¼‚æ­¥æ‰§è¡Œæ— å®æ—¶åé¦ˆ**
   - "ç«‹å³æ‰§è¡Œ"ä¸ºå¼‚æ­¥æ“ä½œï¼Œç”¨æˆ·éœ€æŸ¥çœ‹æ—¥å¿—å®¡è®¡é¡µé¢è·å–ç»“æœ
   - ç¼“è§£ï¼šå‰ç«¯æ˜¾ç¤ºå‹å¥½æç¤ºå¼•å¯¼ç”¨æˆ·

## è¿ç§»è®¡åˆ’

1. æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬åˆ›å»ºæ–°è¡¨
2. é…ç½®æ–°èœå•å’Œæƒé™
3. éƒ¨ç½²å‰åç«¯ä»£ç 
4. éªŒè¯åŠŸèƒ½æ­£å¸¸

## å¾…å†³é—®é¢˜

1. æ˜¯å¦éœ€è¦ä»»åŠ¡æ‰§è¡Œå†å²çš„å¿«æ·æŸ¥çœ‹å…¥å£ï¼Ÿ
2. Cron è¡¨è¾¾å¼æ˜¯å¦éœ€è¦å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Ÿ
